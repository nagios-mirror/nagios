#####################
Nagios 2.x Change Log
#####################


2.8 - ??/??/2007
------------------
* Bug fix for calculating notification interval with service escalations
* Bug fix for using servicegroups in service dependency definitions
* Bug fix for bad date format submission in command CGI
* Possible segfault fix during restarts when daemon was performing host checks



2.7 - 01/19/2007
----------------
* p1.pl now sets environment var (NAGIOS_PLUGIN) to indicate patch of plugin that is executing
* Updated nagiostats with new MRTG vars for tracking buffer usage
* Added sample MRTG config file
* Minor patches to availability and status CGIs
* Minor documentation updates
* Fix for segfault during expiration or deletion of scheduled downtime
* Fix for scheduling immediate service check through WAP interface
* Fix for leading whitespace before comments in object config files



2.6 - 11/27/2006
----------------
* Fix for unscheduled triggered downtime entries
* Fix for embedded audio in tac and status CGIs
* Fixed bug in nagiostats utility when reporting host/service check latency
* Misc code cleanups for compiler warnings
* Fixed error when reading empty (zero byte) config files
* Default is now to check for orphaned service checks (Francois Caen)
* Fixed bug with non-standard CGI config file location in status data (Carson Gaspar)
* Fixed bugs and simplified examples in sample config files (Mark Young)



2.5 - 07/13/2006
----------------
* Bug fix for excluding hidden files from config file processing
* Bug fix for incorrect links to trends CGI from notification CGI
* Hopefully faster shutdown during host checks
* Lock file is now closed just prior to shutdown, instead of when SIGINT is received
* Bug fix for segfault during startup due to extended service definition duplication
* Bug fix for segfault with wildcards in servicegroup members
* Bug fix for segfault when p1.pl file was missing and embedded Perl interpreter was enabled



2.4 - 05/31/2006
----------------
* Fix for missing <limits.h> include that prevented CGI compilation under Solaris
* Better error message reporting in the command CGI (cmd.cgi)
* Fix for order of recovery/flapping notifications immediately after end of host/service flapping
* Bug fix for potential crash (SIGBUS) of CGIs when reading mmap()'ed status, comment, and downtime files
* Added 'install-unstripped' option to Makefile to allow installing unstripped binaries for debugging
* Minor bug fix to sample redundancy handle-master-proc-event script



2.3.1 - 05/15/2006
------------------
* Bug fix for HTTP content_length header integer overflow in CGIs



2.3 - 05/03/2006
----------------
* Bug fix for negative HTTP content_length header in CGIs
* Added missing links for notes_url and action_url to service column of status detail page



2.2 - 04/07/2006
----------------
* Minor bug fix in availability CGI
* Bug fix with temporary file location used for retention data
* Fix for segfault that occurred in 2.1 during service flapping notifications



2.1 - 03/27/2006
----------------
* Changed freshness logic so that passive checks don't immediately go stale after program restart
* Bug fix for minor memory leak in object cleanup code
* Bug fix for flapping notifications during scheduled downtime
* Bug fix for $TOTALHOSTSDOWNUNHANDLED$ macro
* Bug fix in sample minimal.cfg file
* Bug fix in status CGI when displaying servicegroups
* Bug fixes in computation of indeterminate time and scheduled downtime in availability CGI
* Bug fix with not deleting all comments associated with a service
* Lowered max plugin output length from 348 to 332 chars to run on 64-bit systems without problems
* Minor fix to p1.pl for embedded Perl interpreter
* Minor fixes to WAP interface (statuswml CGI)
* Minor bug fix to VRML interface (statuswrl CGI)
* Minor doc updates



2.0 - 02/07/2006
----------------
* Fix for segfault in timed event queue
* Removed length limitations for object vars/vals
* Updated config.sub and config.guess to versions from automake-1.9
* Doc updates



2.0rc2 - 01/10/2006
-------------------
* Fix for initialization of embedded Perl interpreter
* Fix for potential duplicate membership entry bug in (host/service/contact)groups
* Minor documentation updates



2.0rc1 - 12/27/2005
-------------------
* Event broker modifications:
	- Minor change to log timestamps
	- Changes to notification, check, event handler, and system command callbacks
	- Addition of acknowledgement callbacks
	- Addition of state change callbacks
* Minor bug fix to statuswml CGI
* Minor spec file updates
* Minor include file fix to remove duplicate _REENTRANT definitions affecting embedded Perl
* Bug fix in template resolution of contactgroups variable in contact definitions
* Fixed bug with comments not expiring (for some reason this was not previously implemented!)
* Minor embedded Perl changes
* Fixed bug with non-registered objects in wildcard/regex templates
* Added configure script option to disable use of nanosleep() in event queue
* Improvements to circular path/dependency checks to prevent segfaults
* Minor documentation updates



2.0b6 - 11/30/2005
------------------
* Changed license to specifically state GPL version 2
* Minor fixes to sample nagios.cfg config file
* Fix for non-US date formats in command CGI
* Spec file updates
* Include file modifications for C++ event broker modules
* Minor event broker changes (addition of timed event "sleep" data)
* Added some sanity checks during write of status data for full partitions
* Sample web server config file changes
* Doc updates



2.0b5 - 11/14/2005
------------------
* Typo fix in availability CGI
* Minor changes to sample config files
* Fixed order of include files in config.h for clean compile on OpenBSD 3.6
* Minor fixes in availability and trends CGIs for assumed states during program downtime
* Fixed bug with initial scheduling of active service checks in configs with a large number of passive-only checks
* Fixed bugs with scheduling active host and service checks when active checks were disabled globally
* Host name search in web interface is now case-insensitive
* Fixed bug in times reported by nagiostats utility
* Nagios now drops privileges before reading config files for config verification and scheduling info tests
* Fixed bug where non-config files would occassionally be processed with config directory recursion
* Improvements to init script when stopping Nagios
* Minor changes to improve host and service freshness checking
* Fixed bug with event handlers and logging during soft host recoveries
* Added check for duplicate object names that could adversely affect template resolution
* Updated mini EPN (embedded Perl) test modules
* A few other misc minor fixes



2.0b4 - 08/02/2005
------------------
* Memory leak fixes
* Fixed log message error at start of flapping
* Fixed segfault with invalid servicegroups in service definitions
* Non-existent problems can no longer be acknowledged
* Privileges will now only attempted be dropped if started as root user
* Embedded Perl fixes (to reduce memory leaks)
* Sample CGI config file fixes
* Added $HOSTCHECKTYPE$ and $SERVICECHECKTYPE$ macros
* Fixed bugs in $LASTHOSTCHECK$ macro (and corresponding on-demand macro)
* Fixed bugs in status data routines
* Fixed bug with NULL hostgroup and servicegroup membership
* Fixed bug with config directory recursion being broken
* Fixed bug with processing directives in non-registered object definitions
* Minor change to event broker API to prevent segfaults from unloaded modules
* Updated sample helloworld NEB module to show how to register callback routines



2.0b3 - 04/03/2005
------------------
* Sample config file fixes
* Fixed segfaults in CGIs where plugin output was NULL
* Minor fixes to INSTALL documentation
* Fixed segfault with mispaired servicegroup memberships
* Added $PROCESSSTARTTIME$ macro
* If not specified, host address and alias now default to host name
* Extended ASCII characters no longer auto-stripped from object names and macros
* Added external commands to adjust host and service notification numbers
* Init script changes
* Fixed bug where passive checks with empty plugin output were being dropped
* Fixed bug in state retention routines
* Configure script changes to (hopefully) support event broker under AIX 5
* Documentation fixes and updates
* Additional MRTG output options in nagiostats utility
* Fixed bug in macro processing where commands longer than 1K in length were sometimes being truncated
* Fixed bug in initialization of servicedependency definitions
* Nagios now aborts at startup if it can't drop privileges
* Fixed segfault with adaptive monitoring when changing service check command



2.0b2 - 02/09/2005
------------------
* Fixed bug with cleaning macro contents
* Minor doc updates and fixes
* Init script mods
* Fixed bug in macro routines
* Changed library ordering in GD configure script tests
* Increased command buffer from 4K to 32K
* Added ability to report on soft problem states in avail and trends CGIs
* Fixed bug with hard service problems being reported as soft after host recoveries
* Fixed bug with current attempt number during scheduled host checks
* Fixed macro processing bug
* Fixed bug where GUI didn't show UNREACHABLE hosts properly
* Event broker bug fixes
* Removed (un)setenv() calls for systems that don't support it
* Fixed problem with installing sample config files
* Sample config file fix
* RPM spec file updates
* Embedded Perl fixes (updated p1.pl and mini_epn)



2.0b1 - 12/15/2004
------------------
* Added triggered downtime
* Basic adaptive monitoring features
* Added ability to retain scheduling information
* Change in hostgroup authorization (need to be authorized for all member hosts)
* Host dependencies are now checked before service notifications are sent out
* Added on-demand host/service macros (i.e. $VARIABLE:host:service$)
* Added notes and action_url directives to extended host/service definitions
* Added inherits_parent flag to host and service dependencies
* Added servicegroups
* Added host freshness checking
* Changed way in which initial states are logged
* Added timeperiods and state options to escalation definitions
* Added hostgroups directive to host definitions
* Extended host/service info definitions are now stored in standard object
  config files
* Added regexp matching in object config files (with --enable-regexp-matching
  option to configure script)
* Changed default name of status, comment, downtime, and retention files
* Removed DB support for extended data and retention data
* Multiple service descriptions can be used in both service dependency
  and service escalation definitions
* Moved contact groups directive from hostgroup definitions to host
  definitions
* Added worker thread to increase buffer size of external command file
* Added object_cache_file directive to allow CGI to read cached copy of
  object definitions
* Added DURATION, DURATIONSEC, HOSTDOWNTIME, and SERVICEDOWNTIME macros
* Removed hostgroup escalations
* Added passive host checks
* Event handler commands can now contain arguments
* Contact notification commands can now contain arguments (Greg Vickers)
* Support for multiple members directives in hostgroup definitions
* Directory recursion support added to cfg_dir directives for object data
* Host check command can now contain arguments (! separator) (Daniel Riek)
* Removed support for "vanilla" command definitions (I doubt they were used)
* Added p1_file directive to main config file to specify location
  of p1.pl (Russell Scibetti)
* Added option to reload embedded Perl interpreter after X calls
  during runtime - useful if you notice embedded Perl leaking memory
* Removed older object config support
* Removed older extended info config support
* CGIs can now determine config file and external command file locations
  from environment variables (Russell Scibetti)
* Other objects now used chained hash for faster lookups as well
* Host and services use chained hash for faster lookups (Daniel Drown)
* Added support for config file line continuations using \ character
* Added check auto-rescheduling option
