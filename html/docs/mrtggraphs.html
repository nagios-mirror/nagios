<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>
<title>Graphing Performance Info With MRTG</title>

<STYLE type="text/css">
<!--
        .Default { font-family: verdana,arial,serif; font-size: 8pt; }
        .PageTitle { font-family: verdana,arial,serif; font-size: 16pt; font-weight: bold; }
-->      
</STYLE>

</head>

<body bgcolor="#FFFFFF" text="black" class="Default">

<p>
<div align="center">
<img src="images/nagios.jpg" border="0" alt="Nagios" title="Nagios">
<h2 class="PageTitle">Graphing Performance Info With MRTG</h2>
</div>
</p>

<hr>

<p>
<img src="images/upto.gif" border="0" align="absmiddle">Up To: <a href="toc.html">Contents</a><br>
<img src="images/seealso.gif" border="0" align="absmiddle"> See Also: <a href="nagiostats.html">Nagiostats Utility</a>, <a href="tuning.html">Performance Tuning</a>
</p>

<p>
<strong><u>Introduction</u></strong>
</p>

<p>
The <a href="nagiostats.html">nagiostats</a> utility allows you to graph various Nagios performance statistics over time using <a href="">MRTG</a>.  This is important because it can help you:
</p>

<p>
<ul>
<li>Ensure Nagios is operating efficiently</li>
<li>Locate problem areas in the monitoring process</li>
<li>Observe the performance impacts of changes in your Nagios configuration</li>
</ul>
</p>

<p>
<strong><u>Sample MRTG Configuration</u></strong>
</p>

<p>
Sample MRTG configuration file snippets for graphing various Nagios performance statistics can be found in the <b>mrtg.cfg</b> file located in the <b>sample-config/</b> subdirectory of the Nagios distribution.  You can create graphs of other performance information if you'd like - the samples just provide you with a good starting point.
</p>
<p>
Once you copy these sample entries into your MRTG config file (/etc/mrtg/mrtg.cfg) you should have some new graphs the next time MRTG runs.
</p>

<p>
<strong><u>Example Graphs</u></strong>
</p>

<p>
I'll describe what a few of the sample MRTG graphs mean and what they can be used for...
</p>

<table border="0" class="Default" cellpadding="10">

<tr>
<td valign="top">
<p>
<b>Active Host Checks</b> - This graph shows how may active host checks (reguarly scheduled and on-demand) have occurred over time.  Useful for understanding:
</p>
<p>
<ul>
<li><a href="hostchecks.html">Host checks</a></li>
<li><a href="dependencychecks.html">Predictive host dependency checks</a></li>
<li><a href="cachedchecks.html">Cached checks</a></li>
</ul>
</p>
</td>
<td valign="top">
<img src="images/mrtg-activehostchecks.png" border="0" alt="Active Host Checks">
</td>
</tr>

<tr>
<td valign="top">
<p>
<b>Active Service Checks</b> - This graph shows how may active service checks (reguarly scheduled and on-demand) have occurred over time.  Useful for understanding:
</p>
<p>
<ul>
<li><a href="servicechecks.html">Service checks</a></li>
<li><a href="dependencychecks.html">Predictive service dependency checks</a></li>
<li><a href="cachedchecks.html">Cached checks</a></li>
</ul>
</p>
</td>
<td valign="top">
<img src="images/mrtg-activeservicechecks.png" border="0" alt="Active Service Checks">
</td>
</tr>

<tr>
<td valign="top">
<p>
<b>Cached Host and Service Checks</b> - This graph shows how may cached host and service checks have occurred over time.  Useful for understanding:
</p>
<p>
<ul>
<li><a href="cachedchecks.html">Cached checks</a></li>
<li><a href="dependencychecks.html">Predictive host and service dependency checks</a></li>
</ul>
</p>
</td>
<td valign="top">
<img src="images/mrtg-cachedchecks.png" border="0" alt="Cached Host and Service Checks">
</td>
</tr>

<tr>
<td valign="top">
<p>
<b>Average Service Check Latency and Execution Time</b> - This graph shows average service check latency and execution times over time.  Useful for understanding:
</p>
<p>
<ul>
<li><a href="servicechecks.html">Service checks</a></li>
<li><a href="tuning.html">Performance tuning</a></li>
</ul>
</p>
<p>
Consistently high latencies can be an indication that one of more of the following variables need tweaking:
</p>
<p>
<ul>
<li><a href="configmain.html#max_concurrent_checks">max_concurrent_checks</a></li>
<li><a href="configmain.html#check_result_buffer_slots">check_result_buffer_slots</a></li>
<li><a href="configmain.html#check_result_reaper_frequency">check_result_reaper_frequency</a></li>
<li><a href="configmain.html#max_check_result_reaper_time">max_check_result_reaper_time</a></li>
</ul>
</p>
</td>
<td valign="top">
<img src="images/mrtg-serviceperfstats.png" border="0" alt="Average Service Check Latency and Execution Time">
</td>
</tr>

<tr>
<td valign="top">
<p>
<b>Average Host Check Latency and Execution Time</b> - This graph shows average host check latency and execution times over time.  Useful for understanding:
</p>
<p>
<ul>
<li><a href="hostchecks.html">Host checks</a></li>
<li><a href="tuning.html">Performance tuning</a></li>
</ul>
</p>
<p>
Consistently high latencies can be an indication that one of more of the following variables need tweaking:
</p>
<p>
<ul>
<li><a href="configmain.html#max_concurrent_checks">max_concurrent_checks</a></li>
<li><a href="configmain.html#check_result_buffer_slots">check_result_buffer_slots</a></li>
<li><a href="configmain.html#check_result_reaper_frequency">check_result_reaper_frequency</a></li>
<li><a href="configmain.html#max_check_result_reaper_time">max_check_result_reaper_time</a></li>
</ul>
</p>
</td>
<td valign="top">
<img src="images/mrtg-hostperfstats.png" border="0" alt="Average Host Check Latency and Execution Time">
</td>
</tr>

</table>

<hr>

</body>
</html>
